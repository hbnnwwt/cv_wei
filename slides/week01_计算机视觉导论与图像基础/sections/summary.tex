%=============================================================================
% æ€»ç»“ä¸ä½œä¸š
%=============================================================================

\section{å®Œæ•´æµç¨‹æ¼”ç¤º}

\begin{frame}[fragile]{é˜…å·ç³»ç»Ÿå®Œæ•´æµç¨‹ï¼ˆ1/3ï¼‰ï¼šå›¾åƒé¢„å¤„ç†}
    \textbf{ç›®æ ‡ï¼š}å°†æ‹æ‘„çš„è¯•å·å›¾åƒè½¬æ¢ä¸ºé€‚åˆå¤„ç†çš„æ ¼å¼

    \begin{lstlisting}
import cv2
import numpy as np

# 1. è¯»å–å›¾åƒ
img = cv2.imread('exam_paper.jpg')

# 2. ç°åº¦åŒ–
gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)

# 3. å»å™ª
denoised = cv2.GaussianBlur(gray, (5, 5), 0)

# 4. å¯¹æ¯”åº¦å¢å¼º
clahe = cv2.createCLAHE(clipLimit=2.0, tileGridSize=(8,8))
enhanced = clahe.apply(denoised)

# 5. äºŒå€¼åŒ–
binary = cv2.adaptiveThreshold(enhanced, 255,
    cv2.ADAPTIVE_THRESH_GAUSSIAN_C,
    cv2.THRESH_BINARY, 11, 2)
    \end{lstlisting}

    \textbf{é¢„å¤„ç†æ­¥éª¤ï¼š}
    \begin{enumerate}
        \item \textbf{ç°åº¦åŒ–}ï¼šå»é™¤é¢œè‰²ä¿¡æ¯ï¼Œå‡å°‘æ•°æ®é‡
        \item \textbf{å»å™ª}ï¼šå»é™¤æ‰«æå™ªç‚¹
        \item \textbf{å¯¹æ¯”åº¦å¢å¼º}ï¼šCLAHE è‡ªé€‚åº”å¤„ç†
        \item \textbf{äºŒå€¼åŒ–}ï¼šåˆ†ç¦»å¡«æ¶‚å’Œçº¸å¼ 
    \end{enumerate}
\end{frame}

\begin{frame}[fragile]{é˜…å·ç³»ç»Ÿå®Œæ•´æµç¨‹ï¼ˆ2/3ï¼‰ï¼šå®šä½ç­”é¢˜å¡}
    \textbf{ç›®æ ‡ï¼š}åœ¨è¯•å·ä¸­æ‰¾åˆ°ç­”é¢˜å¡åŒºåŸŸ

    \begin{lstlisting}
# 1. è¾¹ç¼˜æ£€æµ‹
edges = cv2.Canny(binary, 50, 150)

# 2. æŸ¥æ‰¾è½®å»“
contours, _ = cv2.findContours(edges, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)

# 3. ç­›é€‰çŸ©å½¢è½®å»“
for cnt in contours:
    peri = cv2.arcLength(cnt, True)
    approx = cv2.approxPolyDP(cnt, 0.02 * peri, True)
    if len(approx) == 4:
        x, y, w, h = cv2.boundingRect(cnt)
        answer_sheet = binary[y:y+h, x:x+w]
        break
    \end{lstlisting}
\end{frame}

\begin{frame}[fragile]{é˜…å·ç³»ç»Ÿå®Œæ•´æµç¨‹ï¼ˆ3/3ï¼‰ï¼šè¯†åˆ«å¡«æ¶‚}
    \textbf{ç›®æ ‡ï¼š}è¯†åˆ«æ¯ä¸ªé€‰é¡¹æ˜¯å¦è¢«å¡«æ¶‚

    \begin{lstlisting}
# å®šä¹‰æ¯ä¸ªé€‰é¡¹çš„ä½ç½®
options = [
    (50, 30, 80, 60),   # ç¬¬1é¢˜ A
    (90, 30, 120, 60),  # ç¬¬1é¢˜ B
]

results = []
for (x1, y1, x2, y2) in options:
    option = answer_sheet[y1:y2, x1:x2]
    black_ratio = np.sum(option == 0) / option.size
    is_filled = black_ratio > 0.3  # é˜ˆå€¼30%
    results.append(is_filled)
    \end{lstlisting}

    \textbf{è¯†åˆ«ç®—æ³•ä¼˜åŒ–ï¼š}
    \begin{itemize}
        \item é˜ˆå€¼ 30\% æ˜¯ç»éªŒå€¼ï¼Œå¯æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´
        \item æ£€æµ‹æ˜¯å¦å¤šé€‰ï¼Œç»™å‡ºè­¦å‘Š
        \item æœªå¡«æ¶‚è®°å½•ï¼Œåç»­äººå·¥å¤æ ¸
    \end{itemize}
\end{frame}

% -----------------------------------------------------------------------------
% äº’åŠ¨æµ‹éªŒ
% -----------------------------------------------------------------------------

\section{äº’åŠ¨æµ‹éªŒ}

\begin{frame}[fragile]{å¿«é€Ÿé—®ç­”ç¯èŠ‚}
    \begin{columns}
        \column{0.5\textwidth}
        \textbf{é—®é¢˜1ï¼šOpenCVé»˜è®¤è¯»å–çš„å½©è‰²å›¾åƒæ˜¯ä»€ä¹ˆé¡ºåºï¼Ÿ}
        \begin{itemize}
            \item[A] RGB
            \item[B] \highlight{BGR}ï¼ˆæ­£ç¡®ï¼‰
            \item[C] HSV
            \item[D] LAB
        \end{itemize}

        \vspace{0.3cm}
        \textbf{é—®é¢˜2ï¼šå¦‚ä½•åˆ¤æ–­ä¸€ä¸ªå›¾åƒæ˜¯å¦è¯»å–æˆåŠŸï¼Ÿ}
        \begin{itemize}
            \item[A] if img != None
            \item[B] \highlight{if img is not None}ï¼ˆæ­£ç¡®ï¼‰
            \item[C] if img.exists()
            \item[D] if len(img) > 0
        \end{itemize}

        \column{0.5\textwidth}
        \textbf{é—®é¢˜3ï¼šuint8ç±»å‹çš„åƒç´ å€¼èŒƒå›´æ˜¯ï¼Ÿ}
        \begin{itemize}
            \item[A] 0-1023
            \item[B] \highlight{0-255}ï¼ˆæ­£ç¡®ï¼‰
            \item[C] -128-127
            \item[D] 0-65535
        \end{itemize}

        \vspace{0.3cm}
        \textbf{é—®é¢˜4ï¼šå›¾åƒåƒç´ ç›¸åŠ æ—¶ï¼Œå¦‚ä½•é¿å…æº¢å‡ºï¼Ÿ}
        \begin{itemize}
            \item[A] ç›´æ¥ç›¸åŠ 
            \item[B] \highlight{cv2.add() æˆ– np.clip()}ï¼ˆæ­£ç¡®ï¼‰
            \item[C] è½¬ä¸ºfloatåç›¸åŠ 
            \item[D] æ— éœ€å¤„ç†
        \end{itemize}
    \end{columns}

    \vspace{0.5cm}
    \begin{center}
        \highlight{æ­£ç¡®ç‡ï¼š\uncover<2->{\textbf{100\%} ğŸ‰}}
    \end{center}
\end{frame}

\begin{frame}[fragile]{å°æµ‹éªŒæ—¶é—´ï¼ˆ2ï¼‰ï¼šä»£ç æ‰¾é”™æŒ‘æˆ˜}
    \textbf{æ‰¾å‡ºä»¥ä¸‹ä»£ç ä¸­çš„3ä¸ªé”™è¯¯ï¼š}

    \begin{lstlisting}
import cv2
import numpy as np

# è¯»å–å›¾åƒ
img = cv2.imread('å¼ ä¸‰è¯•å·.jpg')  # é”™è¯¯1

# äº®åº¦å¢åŠ 50
bright_img = img + 50  # é”™è¯¯2

# æ˜¾ç¤º
plt.imshow(img)  # é”™è¯¯3
plt.show()
    \end{lstlisting}

    \vspace{0.3cm}
    \begin{block}{ç­”æ¡ˆæ­æ™“}
        \begin{enumerate}
            \item \textbf{é”™è¯¯1ï¼š} ä¸­æ–‡è·¯å¾„é—®é¢˜ã€‚éœ€è¦ä½¿ç”¨\texttt{imread\_chinese()}å‡½æ•°
            \item \textbf{é”™è¯¯2ï¼š} ç›´æ¥ç›¸åŠ ä¼šå¯¼è‡´æº¢å‡ºã€‚åº”è¯¥ä½¿ç”¨\texttt{cv2.add(img, np.array([50.0]))}
            \item \textbf{é”™è¯¯3ï¼š} OpenCVæ˜¯BGRï¼Œmatplotlibæ˜¯RGBã€‚åº”è¯¥å…ˆè½¬æ¢\texttt{img = cv2.cvtColor(img, cv2.COLOR\_BGR2RGB)}
        \end{enumerate}
    \end{block}

    \vspace{0.3cm}
    \begin{center}
        \textbf{ä¿®æ­£åçš„ä»£ç ï¼š}
        \begin{lstlisting}
img = imread_chinese('å¼ ä¸‰è¯•å·.jpg')
bright_img = cv2.add(img, np.array([50.0]))
img_rgb = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)
plt.imshow(img_rgb)
        \end{lstlisting}
    \end{center}
\end{frame}

% -----------------------------------------------------------------------------
% è¯¾åä½œä¸š
% -----------------------------------------------------------------------------

\section{è¯¾åä½œä¸š}

\begin{frame}[fragile]{è¯¾åä½œä¸šï¼šæˆ‘çš„ç¬¬ä¸€ä¸ªå›¾åƒå¤„ç†å™¨}
    \begin{exampleblock}{ä½œä¸šè¦æ±‚}
        ç¼–å†™ä¸€ä¸ª Python è„šæœ¬ï¼Œè¯»å–ä¸€å¼ ç…§ç‰‡å¹¶ç”Ÿæˆä¸€å¼ åŒ…å« 4 å¼ å­å›¾çš„å¯¹æ¯”å›¾ï¼š
        \begin{enumerate}
            \item åŸå›¾
            \item ç°åº¦å›¾
            \item äº®åº¦å¢å¼ºåçš„å›¾
            \item åè‰²åçš„å›¾
        \end{enumerate}
    \end{exampleblock}
    \textbf{æäº¤æ–¹å¼ï¼š} æˆªå›¾ + ä»£ç 
\end{frame}

\begin{frame}{çŸ¥è¯†ç‚¹ç½‘ç»œä¸ä¸‹å‘¨é¢„å‘Š}
    \begin{columns}
        \column{0.6\textwidth}
        \textbf{æœ¬å‘¨æ ¸å¿ƒçŸ¥è¯†ç‚¹ï¼š}
        \begin{itemize}
            \item è®¡ç®—æœºè§†è§‰åŸºæœ¬æ¦‚å¿µ
            \item å›¾åƒçš„æ•°å­—è¡¨ç¤ºï¼ˆçŸ©é˜µã€RGBï¼‰
            \item OpenCVåŸºç¡€æ“ä½œ
            \item å›¾åƒé¢„å¤„ç†ï¼ˆç°åº¦ã€äºŒå€¼åŒ–ã€å»å™ªï¼‰
            \item é˜…å·ç³»ç»Ÿå…¥é—¨
        \end{itemize}

        \vspace{0.3cm}
        \textbf{ä¸‹å‘¨é¢„å‘Šï¼ˆWeek 2ï¼‰ï¼šAIè¾…åŠ©ç¼–ç¨‹å·¥å…·å®æˆ˜}
        \begin{itemize}
            \item \textbf{ChatGPT/Claude}ï¼šå­¦ä¹ ç¼–ç¨‹çš„AIåŠ©æ‰‹
            \item \textbf{Promptå·¥ç¨‹}ï¼šå¦‚ä½•è®©AIå¸®æˆ‘ä»¬å†™ä»£ç 
            \item \textbf{å®æˆ˜æ¼”ç»ƒ}ï¼šç”¨AIè¾…åŠ©å®ç°äººè„¸æ£€æµ‹
        \end{itemize}

        \column{0.4\textwidth}
        \begin{block}{è·¨å‘¨é“¾æ¥}
            \begin{itemize}
                \item Week 1ï¼šå›¾åƒåŸºç¡€ âš™ï¸
                \item Week 2ï¼šAIå·¥å…· ğŸ¤–
                \item Week 3ï¼šå›¾åƒé¢„å¤„ç†ï¼ˆæ·±åº¦ï¼‰ ğŸ–¼ï¸
                \item Week 4ï¼šç‰ˆé¢åˆ†æ ğŸ“„
                \item Week 5ï¼šé€‰æ‹©é¢˜è¯†åˆ« â­•
            \end{itemize}
        \end{block}

        \vspace{0.3cm}
        \begin{alertblock}{é‡ç‚¹æç¤º}
        Week 2æˆ‘ä»¬å°†å­¦ä¹ å¦‚ä½•ç”¨\textbf{AIå·¥å…·}æ¥åŠ é€ŸWeek 1å­¦åˆ°çš„OpenCVä»£ç å¼€å‘ï¼
        \end{alertblock}
    \end{columns}
\end{frame}

\begin{frame}{æ€»ç»“ä¸é—®ç­”}
    \begin{center}
        \Huge \textbf{Q \& A}
        \vspace{1cm}
        \Large å‡†å¤‡å¥½è¿›å…¥è®¡ç®—æœºè§†è§‰çš„ä¸–ç•Œäº†å—ï¼Ÿ
    \end{center}
\end{frame}
